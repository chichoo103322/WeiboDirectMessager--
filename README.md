# WeiboDirectMessager--
WeiboDirectMessager: 一款基于浏览器的微博用户自动发送消息脚本。该脚本具有黑名单过滤、模拟人工输入、自动滚动加载和批量处理等功能，配置灵活。仅供学习研究使用。

# WeiboDirectMessager

一个用于向微博用户自动发送消息的浏览器脚本工具。

## 功能特点

- 批量向微博聊天列表中的用户发送消息
- 智能过滤黑名单用户，避免发送给特定类型账号
- 模拟人工输入，包括随机延迟和真实的打字效果
- 支持自动滚动加载更多聊天列表
- 详细的日志和统计信息
- 可配置的发送频率、批次和目标数量
- 失败重试机制

## 使用方法

1. 登录微博网页版
2. 打开浏览器控制台 (F12 或右键 -> 检查)
3. 切换到 Console 选项卡
4. 复制脚本全部内容并粘贴到控制台
5. 按回车执行脚本

## 配置选项

脚本的开头部分可以根据需要自定义以下配置：

```javascript
const config = {
  messageToSend: "🐏", // 要发送的消息内容
  chatLoadWaitTime: 800, // 点击聊天后等待加载的时间(毫秒)
  sendIntervalTime: 800, // 发送消息的间隔时间(毫秒)
  maxRandomDelay: 700, // 最大随机延迟(毫秒)
  batchSize: 20, // 每批处理的用户数量
  batchInterval: 4000, // 批次之间的间隔时间(毫秒)
  maxRetries: 3, // 失败后最大重试次数
  targetUserCount: 1000, // 目标用户数量
  blacklistKeywords: [...] // 黑名单关键词列表
};
```

### 重要配置说明

- `messageToSend`: 要发送给用户的消息内容
- `targetUserCount`: 脚本将尝试发送消息的总用户数
- `blacklistKeywords`: 用户名中包含这些关键词的用户将被跳过
- `batchSize` 和 `batchInterval`: 控制发送速率，避免触发微博的反爬虫机制

## 统计信息

脚本运行过程中会在控制台显示实时统计信息，包括：

- 总聊天项数
- 黑名单过滤数量
- 处理用户数
- 成功发送数
- 失败数
- 重试次数
- 完成批次数
- 目标完成进度

## 注意事项

1. 请负责任地使用此脚本，避免骚扰他人或违反微博服务条款
2. 发送频率过高可能会触发微博的安全机制，建议适当调整批次间隔
3. 脚本运行过程中请不要手动操作浏览器
4. 如果页面结构发生变化，可能需要更新选择器
5. 该脚本仅供学习和研究使用

## 故障排除

- 如果无法找到聊天列表，尝试刷新页面或确认是否已登录
- 如果消息发送失败率高，可以增加等待时间和间隔时间
- 如果脚本停止运行，检查控制台是否有错误信息

## 免责声明

本脚本仅供教育和研究目的使用。使用者应自行承担使用此脚本的全部责任。作者不对因使用此脚本导致的任何损失或问题负责。
